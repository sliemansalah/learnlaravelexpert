الدرس 4: علاقة أطراف بأطراف (Many-to-Many)
هذه العلاقة تُستخدم عندما يمكن لسجلات متعددة في الجدول الأول الارتباط بسجلات متعددة في الجدول الثاني.
مثال: "مقالة" و "تصنيف" (Article and Tag).
المقالة الواحدة يمكن أن تحتوي على عدة تصنيفات (مثل: "برمجة"، "أخبار"، "تقنية").
التصنيف الواحد يمكن أن يرتبط بعدة مقالات.
التحدي: لا يمكننا تخزين tag_id في جدول articles (لأنه قد يحتوي أكثر من قيمة)، ولا تخزين article_id في جدول tags.


الحل: نحتاج إلى جدول وسيط (Pivot Table) يربط بينهما.

php artisan make:model Article -m
php artisan make:model Tag -m




الآن، ننشئ الجدول الوسيط (Pivot Table). ملاحظة: لارافيل يتوقع تسمية الجدول الوسيط بترتيب أبجدي لأسماء الجدولين المفردة (مثال: article_tag).


php artisan make:migration create_article_tag_table --create=article_tag




4.3 كيفية الاستخدام والتعامل مع البيانات
هذه العلاقة تتطلب إدارة ربط وفك ربط السجلات باستخدام دوال خاصة مثل attach() و detach() و sync().

